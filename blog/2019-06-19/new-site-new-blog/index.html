<!DOCTYPE html><html><head>
<style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.3333333333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-both,.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-both,:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2.5em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1.25em}.svg-inline--fa.fa-stack-2x{height:2em;width:2.5em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}</style><link href="/app.ab2b222effe1243a301d.css" rel="stylesheet"><link rel="preconnect" href="https://fonts.googleapis.com"><title>New site, new blog: Building like it's 2019, blogging like it's 1999</title><link rel="canonical" href="/blog/2019-06-19/new-site-new-blog/" data-react-helmet="true"><link rel="stylesheet" type="text/css" href="https://www.politico.com/interactives/cdn/fonts/base-icons/politico-base-icons.min.css" data-react-helmet="true"><link rel="icon" sizes="16x16" type="image/png" href="https://www.politico.com/favicon-16x16.png" data-react-helmet="true"><link rel="icon" sizes="32x32" type="image/png" href="https://www.politico.com/favicon-32x32.png" data-react-helmet="true"><link rel="icon" sizes="192x192" type="image/png" href="https://www.politico.com/android-chrome-192x192.png" data-react-helmet="true"><link rel="icon" sizes="96x96" type="image/png" href="https://www.politico.com/favicon-96x96.png" data-react-helmet="true"><link rel="stylesheet" href="https://use.typekit.net/ogn0czn.css" data-react-helmet="true"><meta charset="utf-8" data-react-helmet="true"><meta name="viewport" content="width=device-width,initial-scale=1" data-react-helmet="true"><meta name="description" content="Posts from POLITICO Interactive News." data-react-helmet="true"><meta property="twitter:site" content="@politico" data-react-helmet="true"><meta property="article:author" content="https://www.facebook.com/politico" data-react-helmet="true"><meta property="og:image" content="https://The-Politico.github.io" data-react-helmet="true"><meta property="og:url" content="/blog/2019-06-19/new-site-new-blog/" data-react-helmet="true"><meta property="og:title" content="New site, new blog: Building like it's 2019, blogging like it's 1999" data-react-helmet="true"><meta property="og:description" content="Posts from POLITICO Interactive News." data-react-helmet="true"><script data-react-helmet="true">try {
              Typekit.load({
                  async: true
              });
          } catch (e) {}</script><link rel="preconnect" href="https://use.typekit.net"><link rel="preconnect" href="https://p.typekit.net"><link rel="preconnect" href="https://raw.githubusercontent.com"><link rel="preconnect" href="https://www.politico.com"></head>

<body>
    <div id="app"><div class="LlBwwn6-gO2xEBvzM2RAS page post"><div class="_2i2pi7mKlH5Lp8uFOeD2Qg"><header><div class="global-brand"><a class="active" aria-current="page" href="/"><div class="brand"><b class="icon icon-politico"></b></div><div class="team">Interactives</div></a></div><div id="nav-chart"><svg width="0" height="0"><g transform="translate(20, 0)"><path class="loose-bins" d="M-34.64101615137754,0m0,-6l5.196152422706632,2.999999999999999l0,6l-5.196152422706631,3.0000000000000013l-5.196152422706632,-2.9999999999999973l-2.6645352591003757e-15,-5.999999999999998z" style="fill:rgba(255,255,255,.1);stroke:rgba(255,255,255,.25);opacity:.0265589"></path><path class="loose-bins" style="fill:rgba(255,255,255,.1);stroke:rgba(255,255,255,.25);opacity:0"></path></g></svg></div><nav><span><a href="/jobs/">Jobs</a></span><a href="/team/"><span class="is-hidden-mobile">Our team</span><span class="is-hidden-tablet">Team</span></a><a href="/code/"><span class="is-hidden-mobile">Open source</span><span class="is-hidden-tablet">Code</span></a><span><a class="active" aria-current="page" href="/blog/">Blog</a></span></nav></header></div><article><div><h1>New site, new blog: Building like it's 2019, blogging like it's 1999</h1><p>Welcome to the redesigned and rebuilt POLITICO Interactive News team site. Just a couple quick notes on what we've built here and why we're starting a blog for you, our fellow newsnerds.</p><h3>Building for the future</h3><p>First, some technical notes on our new site. One of the first things you'll notice is how FAST it is.</p><p>In case you missed it, our team plumped hard for <a target="_blank" href="https://twitter.com/JonRMcClure/status/1070022921291292678">component-based frontends</a> last year after a positive run using React throughout the midterms.</p><p>We've carried that forward here, using <a target="_blank" href="https://reacttraining.com/react-router/">react-router</a> to build our site as a <a target="_blank" href="https://en.wikipedia.org/wiki/Single-page_application">single page app</a>. In a first for us, though, we're running the app through <a target="_blank" href="https://github.com/stereobooster/react-snap">react-snap</a>, which bakes out each of our SPA views with unique URLs and metatags. The benenfit of having a site that transitions between pages without reloading while never sacrificing search optimization is a huge step forward we plan to replicate in a few projects this year.</p><h3>Markdown ergonomics</h3><p>Folks on the team will tell you my latest tick is talking about the "ergonomics" of our long-running code. That's a $10 word I use to describes how annoying our code is to update and maintain.</p><p>In this case, I wanted to replicate a feature of other page builders I'd seen: the ability to register new blog posts by simply creating a new markdown file in a directory. Each post has some metadata I need to register with our app, while the actual content of each post I want to defer to an async call when you, dear reader, explicitly ask to see it.</p><p>Here's how we did it by creating a custom webpack plugin that pulls in our blog posts and reads some YAML front matter into a virtual module using
<a target="_blank" href="https://github.com/sysgears/webpack-virtual-modules">webpack-virtual-modules</a> and <a target="_blank" href="https://github.com/jonschlinkert/gray-matter">gray-matter</a>:</p><div class="_2sPuRr57_8yCUmaGq6xI8q"><pre class="refractor"><code class="language-js"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> matter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'gray-matter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> VirtualModulesPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-virtual-modules'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span><span class="token constant">BLOG_DIR</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> contents <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token constant">BLOG_DIR</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  posts<span class="token punctuation">[</span>file<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'.md'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">matter</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span> <span class="token comment">// e.g., 2019-06-19.md</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">const</span> virtualModules <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VirtualModulesPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'node_modules/Blog.js'</span><span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`module.exports = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>posts<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;`</span></span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> virtualModules<span class="token punctuation">;</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>Now in my code, I can import my new pseudo-library and have access to the metadata for all posts in the <code>BLOG_DIR</code> directory:</p><div class="_2sPuRr57_8yCUmaGq6xI8q"><pre class="refractor"><code class="language-js"><span class="token keyword">import</span> posts <span class="token keyword">from</span> <span class="token string">'Blog'</span><span class="token punctuation">;</span>

posts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><button class="copy"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="copy" class="svg-inline--fa fa-copy fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"></path></svg></button></div><p>Kinda cool!</p><h3>Why we're starting a blog in 2019</h3><p>The short answer is I think we're doing cool things on this team, building tools and best practices I wish I had access to earlier in my career. Coming from our origins in regional newsrooms, we've always had an explicit mission to share as much of what we do as possible, whether that's code or process.</p><p>More and more often, though, we're finding that we're missing a tool to talk about our work outside the narrower scope of our READMEs.</p><p>After trying a few weird ways to abuse other platforms, like this <a target="_blank" href="https://twitter.com/JonRMcClure/status/1060642345241186304">post-midterms shared twitter thread</a>, we've decided to go back to a format better built to purpose: this blog.</p><p>(Why aren't we using Medium or another blogging as a service platform? There's not a righteous conviction here. I just wanted to really own our space, especially the look and feel.)</p><p>So here's the deal: We'll commit to writing a few things here as we go. Breaking down the thought process behind our favorite projects, talking about the major decision points we've confronted as a team or just idly musing on <a target="_blank" href="https://www.youtube.com/watch?reload=9&amp;v=Ye_iob2MwGw">the state JavaScript in 2047</a>... We just ask you to talk back to us. Give us your critiques, tell us what you like about our work and, especially, what sucks.</p><p>We're looking forward to telling you more about us and hopefully having more conversations with you.</p></div></article></div></div>
<script type="text/javascript" src="/app.d451230e93b43dc03fa2.js"></script>

</body></html>